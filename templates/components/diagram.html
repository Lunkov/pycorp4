<script>
var w = $(window).width();
var h = $(window).height();
var scale = 1;

function zoomFrame(x) {
  $("#schemaiframe").width(w + "px");
  $("#schemaiframe").height(h + "px");
  if (x === -1) {
	scale = scale * 1.1;
	//w = w * 0.9;
	//h = h * 0.9;
	//w = w * 1.1;
	//h = h * 1.1;
	//$("#schemaiframe").width(w + "px");
	//$("#schemaiframe").height(h + "px")
  } else {
	scale = scale * 0.9;
	//w = w * 0.9;
	//h = h * 0.9;
	//w = w * 1.1;
	//h = h * 1.1;
	//$("#schemaiframe").width(w + "px");
	//$("#schemaiframe").height(h + "px")
  }
 $('#schemaiframe').css('-webkit-transform-origin', `0 0`);
 $('#schemaiframe').css('-moz-transform-scale-origin', `0 0`);
 $('#schemaiframe').css('transform-origin', `0 0`);
 $('#schemaiframe').css('zoom', `${scale}`);
 $('#schemaiframe').css('-webkit-transform', `scale(${scale})`);
 $('#schemaiframe').css('-moz-transform-scale', `scale(${scale})`);
 $('#schemaiframe').css('transform', `scale(${scale})`);
}

</script>



<div class="card shadow mb-4">
	<div class="card-header py-3">
		<h3 class="m-0 font-weight-bold text-primary" id="schema{{ dia_id }}">Схема</h3>
	</div>
	<div class="card-body">
      <div class="card shadow mb-4">
		<div class="d-inline">
		<button type="button" onclick="zoomFrame(1)">- ZOOM OUT</button>
		<button type="button" onclick="zoomFrame(-1)">+ ZOOM IN</button>
		<button type="button" onclick="window.open('/dia/{{ dia_path }}/{{ dia_id }}.mmd')" formtarget="_blank">Просмотр MMD</button>
		<button type="button" onclick="window.open('/dia/{{ dia_path }}/{{ dia_id }}.html')" formtarget="_blank">Просмотр SVG</button>
		<button type="button" onclick="window.open('/dia/{{ dia_path }}/{{ dia_id }}.mmd.png')" formtarget="_blank">Просмотр PNG</button>
{% if print_png %}
		<button type="button" onclick="window.open('/dia/{{ dia_path }}/{{ dia_id }}.dia.png')" formtarget="_blank">Просмотр Diagram.PNG</button>
{% endif %}
		</div>
		<div id="iframe_container">
		 <iframe border=1 id="schemaiframe" class="" src="/dia/{{ dia_path }}/{{ dia_id }}.html" title="{{ dia_name }}" allowfullscreen style="min-height: 800px; max-width: 100%; width: 100%; height: 100%;"></iframe> 
		</div>
	  </div>
   </div>
</div>

{% if print_png %}
<div class="card shadow mb-4">
	<div class="card-header py-3">
		<h3 class="m-0 font-weight-bold text-primary" id="schema{{ dia_id }}_png">Схема PNG</h3>
	</div>
	<div class="card-body">
      <div class="card shadow mb-4">
		<div id="iframe_container">
		 <img border=0 src="/dia/{{ dia_path }}/{{ dia_id }}.dia.png" title="{{ dia_name }}" width=100%> 
		</div>
	  </div>
   </div>
</div>
{% endif %}
