{% include "html/base/header.html" %}

<div id="wrapper">

	{% include "html/base/menu-workspace.html" %}

	<!-- Content Wrapper -->
	<div id="content-wrapper" class="d-flex flex-column">

		<!-- Main Content -->
		<div id="content">
		{% include "html/base/navbar.html" %}

<div class="container-fluid">

<h1><a href="/workspace/{{ wsname }}/systems">&#x2B11;</a>&nbsp; Система: {{ system.name }}</h1>

<div class="card shadow mb-4">
	<div class="card-header py-3">
		<h3 class="m-0 font-weight-bold text-primary" id="content">Содержание</h3>
	</div>
	<div class="card-body">
      <div class="card shadow mb-4">
		<ul>
		  <li><a href="#about">О системе</a></li>
		  <li><a href="#fsd">Функциональные требования</a></li>
		  <li><a href="#input">Источники данных</a></li>
		  <li><a href="#output">Потребители данных</a></li>
		  <li><a href="#swaggers">Swaggers</a></li>
		  <li><a href="#api">API сервиса</a></li>
		  <li><a href="#ups">КД сервиса</a></li>
		  <li><a href="#schemaiframe">Схема</a></li>
		</ul>
	  </div>
   </div>
</div>

<div class="card shadow mb-4">
	<div class="card-header py-3">
		<h6 class="m-0 font-weight-bold text-primary" id="about">О системе</h6>
	</div>
	<div class="card-body">
      <div class="card shadow mb-4">

<table class="table table-bordered" id="dataTable1" width="100%" cellspacing="0">
	<thead>
		<tr>
			<th>Параметр</th>
			<th>Значение</th>
		</tr>
	</thead>
<tbody>
	<tr>
		<td>Идентификатор системы</td>
		<td>{{ system.id }}</td>
	</tr>
	<tr>
		<td>Наименование системы</td>
		<td>{{ system.name }}</td>
	</tr>
	<tr>
		<td>Описание системы</td>
		<td>{{ system.description }}</td>
	</tr>
	<tr>
		<td>Ссылка на описание системы</td>
		<td><a href="{{ system.link }}" target=_blank>Wiki</a></td>
	</tr>
	<tr>
		<td>Описание API</td>
		{% if system.swagger|length %}
		  <td><a href="{{ system.swagger }}" target=_blank>Swagger</a></td>
		{% else %}
		  <td>&#128533;</td>
		{% endif %}
	</tr>

</tbody>
</table>
     
     </div>
   </div>
</div>



<!-- DataTales  -->
<script>
// Call the dataTables jQuery plugin
$(document).ready(function() {
  $('#dataTableFSD').DataTable();
  $('#dataTableIN').DataTable();
  $('#dataTableOUT').DataTable();
  $('#dataTableAPI').DataTable();
});
</script>

{% with table_title='Источники данных', table_id='input', table_rows=links_from, system_name='system_to' %}
  {% include "html/components/table_system.html" %}
{% endwith %}

{% with table_title='Потребители данных', table_id='output', table_rows=links_to, system_name='system_from' %}
  {% include "html/components/table_system.html" %}
{% endwith %}
            
{% with dia_filter='system', dia_id=system.id, dia_name=system.name, print_png=true %}
  {% include "html/components/diagram.html" %}
{% endwith %}
		</div>


		</div>
		<!-- End of Main Content -->

	</div>
	<!-- End of Content Wrapper -->

</div>
<!-- End of Page Wrapper -->

{% include "html/base/footer.html" %}
